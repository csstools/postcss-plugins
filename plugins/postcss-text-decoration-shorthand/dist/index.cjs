"use strict";var e=require("@csstools/color-helpers"),t=require("postcss-value-parser");const creator=e=>{const l=Object.assign({preserve:!0},e);return{postcssPlugin:"postcss-text-decoration-shorthand",prepare(){const e=new Map;return{OnceExit:()=>{e.clear()},Declaration:i=>{if("text-decoration"!==i.prop.toLowerCase())return;const a=i.parent.index(i);if(i.parent.nodes.some((t=>"decl"===t.type&&"text-decoration"===t.prop.toLowerCase()&&e.get(i.value)===t.value&&i.parent.index(t)!==a)))return;const c=t(i.value),u=c.nodes.filter((e=>"space"!==e.type&&"comment"!==e.type));if(u.find((e=>"var"===e.value.toLowerCase()&&"function"===e.type)))return;if(u.find((e=>"word"===e.type&&o.includes(e.value))))return;const p={line:[],style:null,color:null,thickness:null};for(let e=0;e<u.length;e++){const o=u[e];if(p.line.length||"word"!==o.type||!r.includes(o.value.toLowerCase()))if(p.line.length||"word"!==o.type||"none"!==o.value.toLowerCase())if(p.style||"word"!==o.type||!n.includes(o.value.toLowerCase()))if(p.thickness||"word"!==o.type||!s.includes(o.value.toLowerCase()))if(p.thickness||"function"!==o.type||"calc"!==o.value.toLowerCase())if(p.color||!nodeIsAColor(o)){if("word"!==o.type)return;{let e;try{e=t.unit(o.value)}catch(e){return}if(!e||!e.unit)return;p.thickness=o,"%"===e.unit&&(p.thickness={type:"function",value:"calc",nodes:[{type:"word",value:"0.01em"},{type:"space",value:" "},{type:"word",value:"*"},{type:"space",value:" "},{type:"word",value:e.number}]})}}else p.color=o;else p.thickness=o;else p.thickness=o;else p.style=o;else p.line.push(o);else{const t=o;let n=o;for(;;){const t=u[e+1];if(!t||"word"!==t.type||!r.includes(t.value.toLowerCase()))break;n=t,e++}p.line=c.nodes.slice(c.nodes.indexOf(t),c.nodes.indexOf(n)+1)}}p.line.length||p.line.push({type:"word",value:"none"}),p.style||(p.style={type:"word",value:"solid"}),p.color||(p.color={type:"word",value:"currentColor"});const d=t.stringify(p.line);if(i.value.toLowerCase()===d.toLowerCase()){const e=i.next();return void(e&&"decl"===e.type&&"text-decoration"===e.prop.toLowerCase()||i.cloneBefore({prop:"-webkit-text-decoration",value:d}))}i.cloneBefore({prop:"text-decoration",value:d});const v=t.stringify([...p.line,{type:"space",value:" "},p.style,{type:"space",value:" "},p.color]);p.thickness&&i.cloneBefore({prop:"text-decoration",value:v}),p.thickness&&i.cloneBefore({prop:"text-decoration-thickness",value:t.stringify([p.thickness])}),e.set(i.value,d),e.set(v,d),l.preserve||i.remove()}}}}};function nodeIsAColor(e){return!("word"!==e.type||!e.value.startsWith("#"))||(!("word"!==e.type||!i.includes(e.value.toLowerCase()))||!("function"!==e.type||!l.includes(e.value.toLowerCase())))}creator.postcss=!0;const o=["unset","inherit","initial","revert","revert-layer"],r=["underline","overline","line-through","blink","spelling-error","grammar-error"],n=["solid","double","dotted","dashed","wavy"],s=["auto","from-font"],l=["rgb","rgba","hsl","hsla","hwb","lch","lab","color","oklch","oklab"],i=["currentcolor","transparent",...Object.keys(e.namedColors)];module.exports=creator;
