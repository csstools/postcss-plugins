"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("postcss-value-parser"));const o=e=>{const o=Object.assign({functionName:"csstools-if"},e);return{postcssPlugin:"postcss-conditional-values",prepare(){const e=new Map,r=new Set,s=new Set;return{Declaration(a,{postcss:n}){if(!a.value.toLowerCase().includes(o.functionName))return;const u=t.default(a.value);let l="";const i=[];let c=!1;const f=[];if(u.walk((e=>{if("function"===e.type&&e.nodes&&e.value.toLowerCase()===o.functionName)return e.nodes.forEach((e=>{l||"word"!==e.type||"--"!==e.value.slice(0,2)?l&&("word"!==e.type||"else"!==e.value?c?c&&f.push(e):i.push(e):c=!0):l=t.default.stringify(e).trim()})),!1})),!l)return;if(i.some((e=>"div"===e.type&&","===e.value)))return;if(f.some((e=>"div"===e.type&&","===e.value)))return;const d=t.default.stringify(i).trim(),p=t.default.stringify(f).trim();if(d&&p){{const r=e.get(l)||0;e.set(l,r+1);const s=`${l}--${r}`;a.cloneBefore({prop:s,value:`var(${l}) ${p}`}),u.walk((e=>{if("function"===e.type&&e.nodes&&e.value.toLowerCase()===o.functionName)return e.value="var",e.nodes=[...t.default(s).nodes,{sourceIndex:0,sourceEndIndex:1,value:",",type:"div",before:"",after:""},...t.default(d).nodes],!1})),a.cloneBefore({value:u.toString()})}if(!r.has(l)&&(a.root().walkDecls(l,(e=>{e.prop===l&&(""!==e.value.trim()?"true"===e.value.trim().toLowerCase()?e.value="initial":"false"===e.value.trim().toLowerCase()&&(e.value=" ",s.add(l)):s.add(l))})),r.add(l),!s.has(l))){let e;s.add(l),a.root().each((t=>{if("rule"===t.type&&":root"===t.selector)return e=t,!1})),e||(e=n.rule({selector:":root",source:a.source,raws:{before:"",after:"\n",between:" "}}),a.root().prepend(e));const t=n.decl({value:" ",prop:l,raws:{before:"\n\t"}});t.source=a.source,e.append(t)}a.remove()}}}}}};o.postcss=!0,module.exports=o;
