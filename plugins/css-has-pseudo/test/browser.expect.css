/* https://github.com/web-platform-tests/wpt/blob/master/css/selectors/invalidation/has-pseudo-class.html */
.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-2w-2p-37-14-2x-32-34-39-38-15-w-2s-2x-3a]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	color: grey
}
#d_main:has(input) div {
	color: grey
}

.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-20-1t-2b-14-z-2s-2n-2r-2w-2t-2r-2z-2q-33-3c-1m-2r-2w-2t-2r-2z-2t-2s-15-1q-z-2s-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(#does-not-exist):not(#does-not-exist) {
	color: red
}

#d_main:HAS(#d_checkbox:checked)>#d_subject {
	color: red
}

.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-2w-2p-37-14-z-2s-2n-33-34-38-2x-33-32-1m-2r-2w-2t-2r-2z-2t-2s-15-1q-z-2s-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(#does-not-exist):not(#does-not-exist) {
	color: red
}

#d_main:has(#d_option:checked)>#d_subject {
	color: red
}

.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-2w-1t-37-14-z-2s-2n-2r-2w-2t-2r-2z-2q-33-3c-1m-2s-2x-37-2p-2q-30-2t-2s-15-1q-z-2s-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(#does-not-exist):not(#does-not-exist) {
	color: green
}

#d_main:hAs(#d_checkbox:disabled)>#d_subject {
	color: green
}

.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-2w-2p-37-14-z-2s-2n-33-34-38-2x-33-32-1m-2s-2x-37-2p-2q-30-2t-2s-15-1q-w-1m-2x-37-14-z-2s-2n-37-39-2q-2y-2t-2r-38-18-w-z-2s-2n-37-39-2q-2y-2t-2r-38-1e-15]:not(#does-not-exist):not(#does-not-exist):not(#does-not-exist) {
	color: green
}

#d_main:has(#d_option:disabled)> :is(#d_subject, #d_subject2) {
	color: green
}

.js-has-pseudo [csstools-has-z-2s-2n-31-2p-2x-32-1m-2w-2p-37-14-z-2s-2n-33-34-38-2v-36-33-39-34-1m-2s-2x-37-2p-2q-30-2t-2s-15-1q-z-2s-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(#does-not-exist):not(#does-not-exist) {
	color: blue
}

#d_main:has(#d_optgroup:disabled)>#d_subject {
	color: blue
}

.js-has-pseudo #d_main:not([csstools-has-1m-2w-2p-37-14-z-2s-2n-2r-2w-2t-2r-2z-2q-33-3c-1m-2t-32-2p-2q-30-2t-2s-15]:not(#does-not-exist))>#d_subject3 {
	color: green
}

#d_main:not(:has(#d_checkbox:enabled))>#d_subject3 {
	color: green
}

.js-has-pseudo #d_main:not([csstools-has-1m-2w-2p-37-14-z-2s-2n-33-34-38-2x-33-32-1m-2t-32-2p-2q-30-2t-2s-15]:not(#does-not-exist)) :is(#d_subject3, #d_subject4) {
	color: green
}

#d_main:not(:has(#d_option:enabled)) :is(#d_subject3, #d_subject4) {
	color: green
}

.js-has-pseudo #d_main:not([csstools-has-1m-2w-2p-37-14-z-2s-2n-33-34-38-2v-36-33-39-34-1m-2t-32-2p-2q-30-2t-2s-15]:not(#does-not-exist))>#d_subject3 {
	color: blue
}

#d_main:not(:has(#d_optgroup:enabled))>#d_subject3 {
	color: blue
}

/* https://github.com/web-platform-tests/wpt/blob/master/css/selectors/invalidation/has-in-ancestor-position.html */
.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-1a-2r-2n-38-2t-37-38-18-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: red
}
div:has(.c_test, [c_test_attr]) #c_subject {
	background-color: red
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-1q-w-1a-2r-2n-38-2t-37-38-18-w-1q-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: green
}

div:has(> .c_test, > [c_test_attr]) #c_subject {
	background-color: green
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-3i-w-1a-2r-2n-38-2t-37-38-18-w-3i-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: yellow
}

div:has(~ .c_test, ~ [c_test_attr]) #c_subject {
	background-color: yellow
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-17-w-1a-2r-2n-38-2t-37-38-18-w-17-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: blue
}

div:has(+ .c_test, + [c_test_attr]) #c_subject {
	background-color: blue
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-3i-w-2s-2x-3a-w-1a-2r-2n-38-2t-37-38-18-w-3i-w-2s-2x-3a-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	background-color: purple
}

div:has(~ div .c_test, ~ div [c_test_attr]) #c_subject {
	background-color: purple
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-17-w-2s-2x-3a-w-1a-2r-2n-38-2t-37-38-18-w-17-w-2s-2x-3a-w-2j-2r-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-w-z-2r-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	background-color: pink
}

div:has(+ div .c_test, + div [c_test_attr]) #c_subject {
	background-color: pink
}

/* https://github.com/web-platform-tests/wpt/blob/master/css/selectors/invalidation/has-in-adjacent-position.html */
.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-1a-2p-2n-2c-2t-37-38-18-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: red;
}
div:has(.a_Test, [a_test_attr])+#a_subject {
	background-color: red;
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-1q-w-1a-2p-2n-2c-2t-37-38-18-w-1q-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: green;
}

div:has(> .a_Test, > [a_test_attr])+#a_subject {
	background-color: green;
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-3i-w-1a-2p-2n-2c-2t-37-38-18-w-3i-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: yellow;
}

div:has(~ .a_Test, ~ [a_test_attr])+#a_subject {
	background-color: yellow;
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-17-w-1a-2p-2n-2c-2t-37-38-18-w-17-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist) {
	background-color: blue;
}

div:has(+ .a_Test, + [a_test_attr])+#a_subject {
	background-color: blue;
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-3i-w-2s-2x-3a-w-1a-2p-2n-2c-2t-37-38-18-w-3i-w-2s-2x-3a-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	background-color: purple;
}

div:has(~ div .a_Test, ~ div [a_test_attr])+#a_subject {
	background-color: purple;
}

.js-has-pseudo [csstools-has-2s-2x-3a-1m-2w-2p-37-14-17-w-2s-2x-3a-w-1a-2p-2n-2c-2t-37-38-18-w-17-w-2s-2x-3a-w-2j-2p-2n-38-2t-37-38-2n-2p-38-38-36-2l-15-17-z-2p-2n-37-39-2q-2y-2t-2r-38]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	background-color: pink;
}

div:has(+ div .a_Test, + div [a_test_attr])+#a_subject {
	background-color: pink;
}

/* https://github.com/web-platform-tests/wpt/blob/master/css/selectors/invalidation/attribute-or-elemental-selectors-in-has.html */
div,
main {
	background-color: grey;
	margin: 5px;
	min-height: 20px;
	min-width: 20px;
	padding: 5px;
}

.js-has-pseudo [csstools-has-1a-2q-2n-37-39-2q-2y-2t-2r-38-1m-2w-2p-37-14-1q-w-1a-2q-2n-2r-2w-2x-30-2s-15]:not(.does-not-exist) {
	background-color: red;
}

.b_subject:has(> .b_child) {
	background-color: red;
}

.js-has-pseudo [csstools-has-1a-2q-2n-37-39-2q-2y-2t-2r-38-1m-2w-2p-37-14-1a-2q-2n-2s-2t-37-2r-2t-32-2s-2p-32-38-15]:not(.does-not-exist) {
	background-color: green;
}

.b_subject:has(.b_descendant) {
	background-color: green;
}

.js-has-pseudo [csstools-has-1a-2q-2n-37-39-2q-2y-2t-2r-38-1m-2w-2p-37-14-2j-2p-38-38-36-32-2p-31-2t-1p-y-2q-2n-2s-2t-37-2r-2t-32-2s-2p-32-38-y-2l-15]:not(.does-not-exist) {
	background-color: blue;
}

.b_subject:has([attrname="b_descendant"]) {
	background-color: blue;
}

.js-has-pseudo [csstools-has-1a-2q-2n-37-39-2q-2y-2t-2r-38-1m-2w-2p-37-14-z-2q-2n-2s-2x-3a-2n-2s-2t-37-2r-2t-32-2s-2p-32-38-15]:not(#does-not-exist) {
	background-color: yellow;
}

.b_subject:has(#b_div_descendant) {
	background-color: yellow;
}

.js-has-pseudo [csstools-has-1a-2q-2n-37-39-2q-2y-2t-2r-38-1m-2w-2p-37-14-2q-2n-2s-2t-37-2r-2t-32-2s-2p-32-38-15]:not(does-not-exist) {
	background-color: yellowgreen;
}

.b_subject:has(b_descendant) {
	background-color: yellowgreen;
}

.js-has-pseudo [csstools-has-z-3a-2x-37-2x-38-2t-2s-19-1d-1m-2w-2p-37-14-1m-30-2x-32-2z-15]:not(#does-not-exist) {
	color: green;
}

#visited-1:has(:link) {
	color: green;
}

.js-has-pseudo [csstools-has-z-3a-2x-37-2x-38-2t-2s-19-1e-1m-2w-2p-37-14-1a-2s-33-2t-37-19-32-33-38-19-2t-3c-2x-37-38-15]:not(#does-not-exist) {
	color: yellow;
}

#visited-2:has(:visited) {
	color: yellow;
}

.js-has-pseudo [csstools-has-z-3a-2x-37-2x-38-2t-2s-19-1f-1m-2w-2p-37-14-1m-30-2x-32-2z-15]:not(#does-not-exist) {
	color: yellowgreen;
}

#visited-3:has(:any-link) {
	color: yellowgreen;
}

.js-has-pseudo [csstools-has-z-3a-2x-37-2x-38-2t-2s-19-1g-1m-2w-2p-37-14-1a-2s-33-2t-37-19-32-33-38-19-2t-3c-2x-37-38-15]:not(#does-not-exist) {
	color: red;
}

#visited-4:has(:visited) {
	color: red;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist) {
	--t0:PASS;
}

#main_specificity :has(#foo) {
	--t0:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-1a-2u-33-33-15]:not(#does-not-exist) {
	--t0:FAIL;
}

#main_specificity :has(.foo) {
	--t0:FAIL;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-37-34-2p-32-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist):not(does-not-exist) {
	--t1:PASS;
}

#main_specificity :has(span#foo) {
	--t1:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist) {
	--t1:FAIL;
}

#main_specificity :has(#foo) {
	--t1:FAIL;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-1a-2q-2p-36-18-w-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist) {
	--t2:FAIL;
}

#main_specificity :has(.bar, #foo) {
	--t2:FAIL;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-z-2u-33-33-18-w-1a-2q-2p-36-15]:not(#does-not-exist):not(#does-not-exist) {
	--t2:PASS;
}

#main_specificity :has(#foo, .bar) {
	--t2:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-1a-2q-2p-36-18-w-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist) {
	--t3:PASS;
}

#main_specificity :has(.bar, #foo) {
	--t3:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-1a-2u-33-33-18-w-1a-2q-2p-36-15]:not(#does-not-exist) {
	--t3:FAIL;
}

#main_specificity :has(.foo, .bar) {
	--t3:FAIL;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-37-34-2p-32-w-17-w-37-34-2p-32-15]:not(#does-not-exist):not(does-not-exist):not(does-not-exist) {
	--t4:PASS;
}

#main_specificity :has(span + span) {
	--t4:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-37-34-2p-32-15]:not(#does-not-exist):not(does-not-exist) {
	--t4:FAIL;
}

#main_specificity :has(span) {
	--t4:FAIL;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-37-34-2p-32-18-w-30-2x-18-w-z-2u-33-33-15]:not(#does-not-exist):not(#does-not-exist) {
	--t5:PASS;
}

#main_specificity :has(span, li, #foo) {
	--t5:PASS;
}

.js-has-pseudo [csstools-has-z-31-2p-2x-32-2n-37-34-2t-2r-2x-2u-2x-2r-2x-38-3d-w-1m-2w-2p-37-14-37-34-2p-32-18-w-30-2x-18-w-34-15]:not(#does-not-exist):not(does-not-exist) {
	--t5:FAIL;
}

#main_specificity :has(span, li, p) {
	--t5:FAIL;
}

.js-has-pseudo [csstools-has-z-32-2t-37-38-2t-2s-2n-31-2p-2x-32-w-1m-2w-2p-37-14-1q-w-1m-2w-2p-37-14-z-2r-15-15]:not(#does-not-exist):not(#does-not-exist) {
	color: red;
}

#nested_main :has(> :has(#c)) {
	color: red;
}

.js-has-pseudo [csstools-has-z-34-37-2t-39-2s-33-2n-31-2p-2x-32-w-1m-2w-2p-37-14-1q-w-z-2q-15]:not(#does-not-exist):not(#does-not-exist)::before {
	color: green;
}

#pseudo_main :has(> #b)::before {
	color: green;
}
