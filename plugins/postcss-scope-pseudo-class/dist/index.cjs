"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=e(require("postcss-selector-parser"));const t=e=>{const t=Object.assign({preserve:!1},e);return{postcssPlugin:"postcss-scope-pseudo-class",Rule(e,{result:r}){if(!e.selector.toLowerCase().includes(":scope"))return;{let s=e.parent;for(;s;){if("atrule"===s.type&&"scope"===s.name.toLowerCase())return;s=s.parent}}let o=e.selector;try{const e=s.default().astSync(o);if(!e)return;e.walkPseudos((e=>{if(":has"===e.value.toLowerCase())return!1;":scope"===e.value.toLowerCase()&&(e.value=":root")})),o=e.toString()}catch(s){e.warn(r,`Unable to parse selector: "${e.selector}"`)}o!==e.selector&&(e.cloneBefore({selector:o}),t.preserve||e.remove())}}};t.postcss=!0,module.exports=t;
