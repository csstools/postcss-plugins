import e from"postcss-selector-parser";function s(a){if(!a)return{a:0,b:0,c:0};let o=0,t=0,c=0;if("universal"==a.type)return{a:0,b:0,c:0};if("id"===a.type)o+=1;else if("tag"===a.type)c+=1;else if("class"===a.type)t+=1;else if("attribute"===a.type)t+=1;else if(function(s){return e.isPseudoElement(s)}(a))if("::slotted"===a.value.toLowerCase()){if(c+=1,a.nodes&&a.nodes.length>0){const e=n(a.nodes);o+=e.a,t+=e.b,c+=e.c}}else c+=1;else if(e.isPseudoClass(a))switch(a.value.toLowerCase()){case":-moz-any":case":-webkit-any":case":any":case":has":case":is":case":matches":case":not":if(a.nodes&&a.nodes.length>0){const e=n(a.nodes);o+=e.a,t+=e.b,c+=e.c}break;case":where":break;case":nth-child":case":nth-last-child":if(t+=1,a.nodes&&a.nodes.length>0){const s=a.nodes[0].nodes.findIndex((e=>"tag"===e.type&&"of"===e.value.toLowerCase()));if(s>-1){const l=[e.selector({nodes:a.nodes[0].nodes.slice(s+1),value:""})];a.nodes.length>1&&l.push(...a.nodes.slice(1));const i=n(l);o+=i.a,t+=i.b,c+=i.c}}break;case":local":case":global":a.nodes&&a.nodes.length>0&&a.nodes.forEach((e=>{const n=s(e);o+=n.a,t+=n.b,c+=n.c}));break;case":host":case":host-context":if(t+=1,a.nodes&&a.nodes.length>0){const e=n(a.nodes);o+=e.a,t+=e.b,c+=e.c}break;default:t+=1}else e.isContainer(a)&&a.nodes.length>0&&a.nodes.forEach((e=>{const n=s(e);o+=n.a,t+=n.b,c+=n.c}));return{a:o,b:t,c:c}}function n(e){let n={a:0,b:0,c:0};return e.forEach((e=>{const a=s(e);a.a>n.a?n=a:a.a<n.a||(a.b>n.b?n=a:a.b<n.b||a.c>n.c&&(n=a))})),n}function a(e,s){return e.a===s.a?e.b===s.b?e.c-s.c:e.b-s.b:e.a-s.a}export{a as compare,s as selectorSpecificity};
